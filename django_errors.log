Internal Server Error: /employ/new/api/employees/
Traceback (most recent call last):
  File "C:\django\.venvApp\lib\site-packages\django\db\backends\utils.py", line 64, in execute
    return self.cursor.execute(sql, params)
psycopg2.IntegrityError: ОШИБКА:  повторяющееся значение ключа нарушает ограничение уникальности "employ_FIO_age_key"
DETAIL:  Ключ "("FIO", age)=(тест, 23)" уже существует.


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\django\List_Employ\ListEmp\api\views.py", line 88, in create
    [request.data['fio'], request.data['age'],request.data['positions'],request.data['category'],request.data['gender'],]
  File "C:\django\.venvApp\lib\site-packages\django\db\backends\utils.py", line 79, in execute
    return super(CursorDebugWrapper, self).execute(sql, params)
  File "C:\django\.venvApp\lib\site-packages\django\db\backends\utils.py", line 64, in execute
    return self.cursor.execute(sql, params)
  File "C:\django\.venvApp\lib\site-packages\django\db\utils.py", line 94, in __exit__
    six.reraise(dj_exc_type, dj_exc_value, traceback)
  File "C:\django\.venvApp\lib\site-packages\django\utils\six.py", line 685, in reraise
    raise value.with_traceback(tb)
  File "C:\django\.venvApp\lib\site-packages\django\db\backends\utils.py", line 64, in execute
    return self.cursor.execute(sql, params)
django.db.utils.IntegrityError: ОШИБКА:  повторяющееся значение ключа нарушает ограничение уникальности "employ_FIO_age_key"
DETAIL:  Ключ "("FIO", age)=(тест, 23)" уже существует.


During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\django\.venvApp\lib\site-packages\django\core\handlers\exception.py", line 41, in inner
    response = get_response(request)
  File "C:\django\.venvApp\lib\site-packages\django\core\handlers\base.py", line 187, in _get_response
    response = self.process_exception_by_middleware(e, request)
  File "C:\django\.venvApp\lib\site-packages\django\core\handlers\base.py", line 185, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "C:\django\.venvApp\lib\site-packages\django\views\decorators\csrf.py", line 58, in wrapped_view
    return view_func(*args, **kwargs)
  File "C:\django\.venvApp\lib\site-packages\rest_framework\viewsets.py", line 90, in view
    return self.dispatch(request, *args, **kwargs)
  File "C:\django\.venvApp\lib\site-packages\rest_framework\views.py", line 489, in dispatch
    response = self.handle_exception(exc)
  File "C:\django\.venvApp\lib\site-packages\rest_framework\views.py", line 449, in handle_exception
    self.raise_uncaught_exception(exc)
  File "C:\django\.venvApp\lib\site-packages\rest_framework\views.py", line 486, in dispatch
    response = handler(request, *args, **kwargs)
  File "C:\django\List_Employ\ListEmp\api\views.py", line 125, in create
    Logger.error("Integrity error: {e}")
TypeError: error() missing 1 required positional argument: 'msg'
Internal Server Error: /employ/new/api/employees/
Traceback (most recent call last):
  File "C:\django\.venvApp\lib\site-packages\django\db\backends\utils.py", line 64, in execute
    return self.cursor.execute(sql, params)
psycopg2.IntegrityError: ОШИБКА:  повторяющееся значение ключа нарушает ограничение уникальности "employ_FIO_age_key"
DETAIL:  Ключ "("FIO", age)=(тест, 23)" уже существует.


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\django\List_Employ\ListEmp\api\views.py", line 88, in create
    [request.data['fio'], request.data['age'],request.data['positions'],request.data['category'],request.data['gender'],]
  File "C:\django\.venvApp\lib\site-packages\django\db\backends\utils.py", line 79, in execute
    return super(CursorDebugWrapper, self).execute(sql, params)
  File "C:\django\.venvApp\lib\site-packages\django\db\backends\utils.py", line 64, in execute
    return self.cursor.execute(sql, params)
  File "C:\django\.venvApp\lib\site-packages\django\db\utils.py", line 94, in __exit__
    six.reraise(dj_exc_type, dj_exc_value, traceback)
  File "C:\django\.venvApp\lib\site-packages\django\utils\six.py", line 685, in reraise
    raise value.with_traceback(tb)
  File "C:\django\.venvApp\lib\site-packages\django\db\backends\utils.py", line 64, in execute
    return self.cursor.execute(sql, params)
django.db.utils.IntegrityError: ОШИБКА:  повторяющееся значение ключа нарушает ограничение уникальности "employ_FIO_age_key"
DETAIL:  Ключ "("FIO", age)=(тест, 23)" уже существует.


During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\django\.venvApp\lib\site-packages\django\core\handlers\exception.py", line 41, in inner
    response = get_response(request)
  File "C:\django\.venvApp\lib\site-packages\django\core\handlers\base.py", line 187, in _get_response
    response = self.process_exception_by_middleware(e, request)
  File "C:\django\.venvApp\lib\site-packages\django\core\handlers\base.py", line 185, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "C:\django\.venvApp\lib\site-packages\django\views\decorators\csrf.py", line 58, in wrapped_view
    return view_func(*args, **kwargs)
  File "C:\django\.venvApp\lib\site-packages\rest_framework\viewsets.py", line 90, in view
    return self.dispatch(request, *args, **kwargs)
  File "C:\django\.venvApp\lib\site-packages\rest_framework\views.py", line 489, in dispatch
    response = self.handle_exception(exc)
  File "C:\django\.venvApp\lib\site-packages\rest_framework\views.py", line 449, in handle_exception
    self.raise_uncaught_exception(exc)
  File "C:\django\.venvApp\lib\site-packages\rest_framework\views.py", line 486, in dispatch
    response = handler(request, *args, **kwargs)
  File "C:\django\List_Employ\ListEmp\api\views.py", line 125, in create
    Logger.error("Integrity error: {e}")
TypeError: error() missing 1 required positional argument: 'msg'
Integrity error: {e}
Internal Server Error: /employ/new/api/employees/
Traceback (most recent call last):
  File "C:\django\.venvApp\lib\site-packages\django\core\handlers\exception.py", line 41, in inner
    response = get_response(request)
  File "C:\django\.venvApp\lib\site-packages\django\core\handlers\base.py", line 187, in _get_response
    response = self.process_exception_by_middleware(e, request)
  File "C:\django\.venvApp\lib\site-packages\django\core\handlers\base.py", line 185, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "C:\django\.venvApp\lib\site-packages\django\views\decorators\csrf.py", line 58, in wrapped_view
    return view_func(*args, **kwargs)
  File "C:\django\.venvApp\lib\site-packages\rest_framework\viewsets.py", line 90, in view
    return self.dispatch(request, *args, **kwargs)
  File "C:\django\.venvApp\lib\site-packages\rest_framework\views.py", line 489, in dispatch
    response = self.handle_exception(exc)
  File "C:\django\.venvApp\lib\site-packages\rest_framework\views.py", line 449, in handle_exception
    self.raise_uncaught_exception(exc)
  File "C:\django\.venvApp\lib\site-packages\rest_framework\views.py", line 486, in dispatch
    response = handler(request, *args, **kwargs)
  File "C:\django\List_Employ\ListEmp\api\views.py", line 130, in create
    'detail': str(e)
UnboundLocalError: local variable 'e' referenced before assignment
